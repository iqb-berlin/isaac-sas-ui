<!DOCTYPE html>
<html lang="en">
<head>
    <title>Isaac ML Service</title>
    <link rel="stylesheet" href="web_interface.css">
    <script>
        let environment = {
            serverUrl: "http://127.0.0.1:9999"
        };
    </script>
    <script src="environment.js"></script>
</head>
<body>
    <div class="row">

        <div class="col">
            <h1>Model IDs</h1>
            <br><br>
            <script src="interaction/display_models.js"></script>
            <p><b>Currently Available IDs:</b></p>
            <div id="ids"></div>
            <br><br>
            <p>You need to use one of these model IDs for prediction to use a model that has been trained before.</p>
            <br><br><br><br><br><br><br><br><br><br>
            <h2 style="text-align: center;">Connection:</h2>
            <div id="connection"></div>
        </div>

        <div class="col">
            <h1>Train a Model</h1>
            <br><br>

            <p>1. Choose the model ID you want to give your trained model.</p>
            <input type="text" placeholder="Enter a Model ID" id="trainId">
            <button id="trainIdButton" type="button">Store train model ID</button>
            <br><br>
            <p><b>Your model will get this ID:</b></p>
            <div id="currentId"></div>
            <br><br>

            <p>2. Upload TSV file with your training data.</p>
            <input type="file" id="trainFile">
            <br><br><br>

            <p>3. Train a new model on your data.</p>
            <br>
            <button id="trainButton" type="button">Start training</button>
            <br><br>
            <div id="trainingIsRunning"></div>
            <br><br>
            <h3 style="text-align: left;">Training Performance</h3>
            <br>
            <div id="trainResults"></div>
            <br><br>
            <button id="saveJSONResult">Download results as JSON file</button>
            <br><br>
            <script src="interaction/train_model.js"></script>  
        </div>

        <div class="col">
        <h1>Predict</h1>
        <br><br>
        <p>1. Choose the ID of the model you want to use to make predictions for your data.</p>

        <form id="predictDropDown">
            <select id="predictId" onChange="setCurrentPredictId()">
              <option>Choose an ID for prediction</option>
            </select>
        </form>
        <br><br>
        <p><b>Predictions will be made with the model with this ID:</b></p>
        <div id="currentPredictId"></div>
        <br><br>

        <p>2. Upload TSV file with the instances to predict for.</p>
        <input type="file" id="predictFile">
        <br><br><br>

        <p>3. Make predictions for your data.</p>
        <br>
        <button id="predictButton" type="button">Start Predicting</button>
        <br><br>
        <div id="predictionIsRunning"></div>
        <br><br>
        <h3 style="text-align: left;">Predictions</h3>
        <br>
        <div id="predictResults"></div>
        <br><br>
        <button id="saveJSONPredictResult">Download predictions as JSON file</button>
        <br><br>
        <script src="interaction/predict.js"></script>  
            
        </div>
      </div>
</body>
</html>